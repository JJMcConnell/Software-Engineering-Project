{% extends 'layout.server.view.html' %}

{% block content %}
	<section data-ng-include="'/modules/core/views/room.client.view.html'">
		<div class="container" data-ng-controller="HeaderController">
			
			<h1>Hello, admin!</h1>
			<p>It's wonderful to see you.</p>
			<table class="table table-striped">
				<thead>
					<tr>
						<th>Date</th>
						<th>Time Period</th>
						<th>Contact</th>
						<th>Room ID</th>
						<th>Approve/Deny</th>
					</tr>
				<tbody>
			{% for reservation in reservations %}
		  		<tr>
		    		<td> {{ reservation.date }} </td> 
		    		<td> {{ reservation.time_period}} </td> 
		    		<td> {{ reservation.contactEmail}} </td>
		    		<td> {{ reservation.id }} </td>
		    		<td> 
		    		
		    			<!-- 
		    			1. make two forms: one for approving, one for denying 
		    			2. have hidden fields for the room id for each form
		    			3. only submit the form whose button is pushed
		    			-->

		    			<form action='approveroom'>
		    				<input type='hidden' name='id' value=" {{ reservation.id }}"> 
		    				<input type='submit' id='approve' class='btn btn-primary' value='approve'>
		    			</form>
		    			<form action='denyroom'>
		    				<input type='hidden' name='id' value=" {{ reservation.id }}"> 
    						<input type='submit' class='btn btn-danger' value='deny'>
		    			</form>				    
		    		</td>
		  		</tr>
			{% endfor %}
			</tbody>
		</table>
		</div>
	</section>
{% endblock %}
